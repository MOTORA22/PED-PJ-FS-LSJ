<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>For문 옵션</title>
    <style>
        .forCls {
            height: 100px;
            border: 4px dotted lightseagreen;
        }

        .forCls img {
            height: 100px;
        }
    </style>
    <!-- JS 코드 구역 -->
    <script>
        // 로드 구역 //
        window.addEventListener("DOMContentLoaded",function(){

            // 로딩 확인
            console.log("로딩 되었습니다.");
            /***********************************************************************
                [ JS 기능 정의 ]
                -> 버튼 클릭시 해당 버튼의 내용과 연결된 대상에 이미지를 연속적으로 넣어준다.
                1. 이벤트 대상 : button
                2. 이벤트 종류 : click
                3. 변경 대상 : .forCls
                4. 변경 내용 : 변경 대상에 이미지 넣기
                -> 연속된 이미지를 for문에 넣기
            ***********************************************************************/

            // 1. 대상 선정
            // 이벤트 대상 : button
            var btns = document.querySelectorAll("button");

            // 변경 대상 : .forCls !!!사용 안하기로 함!!!
            // 출력 대상인 .forCls는 버튼에서 찾고 미리 수집하지 않겠다!!!
            // var tg = document.querySelectorAll(".forCls");

            console.log(btns);

            
            function isPrime(N) {
                // 1은 소수가 아니다.
                if (N === 1) return true;
                // 2부터 N-1까지의 수로 N을 나눴을 때
                for (let i = 2; i < N; i++) {
                    // 나누어 떨어지는 경우가 한 번이라도 있으면 N은 소수가 아니다.
                    if (N % i === 0) return true;
                }
                // 모두 나누어 떨어지지 않으면 N은 소수이다.
                return false;
            }

            // 2. 이벤트 설정 미 기능 구현
            for(var i = 0;i<btns.length;i++){
                console.log("for문으로 반복중");
                // 1. 이벤트 설정하기 링크 걸기
                btns[i].onclick = function(){
                    // 1. 버튼 텍스트 읽어오기
                    var btxt = this.innerText;
                    console.log(btxt);
                    // 2. 버튼별 for문 옵션 적용하기
                    // 출력하고자 하는 .forCls를 찾아서 변수 할당하기
                    var tg = this.parentElement.querySelector(".forCls");
                    // parentElement -> 부모 요소로 올라감, 그후 부모 요소에서 다른 형제를 찾음
                    
                    /*
                    num 안쓰기로 함!!!!
                    var num=0;
                    // 삼항 연산자 (비?집:놀이동산)
                    btxt=="for문옵션1"?num=1:(btxt=="for문옵션2"?num=2:num=0);
                    console.log("순번 : ",num);
                    */
                    
                    // 3. 이미지 10개 출력하기
                    // 초기화
                    tg.innerHTML = "";
                    for(j=1;j<=10;j++){

                        // 출력전에 for문 옵션을 사용하여 출력내용을 컨트롤한다!
                        
                        // 1. 두번째버튼일때 4,7번 생략하고 출력하기
                        if(btxt==="for문옵션1"&&(j===4 || j===7)) continue;

                        // 2. 세번째버튼일때 6번째에 나감!
                        if(btxt==="for문옵션2"&&j===6) break;

                        // continue와 break 모두 제외하는 키워드이다.
                        // break 키워드는 실행하는 그 순간 제어문을 나간다. 그 뒤에 코드들은 실행되지 않는다. (자르기)
                        // continue 키워드는 실행하면 그 부분을 제외한 후 계속 뒤에 코드들도 진행된다. (건너뛰기)
                        
                        // 3. 2~4,9 빼고 돌리기
                        if(btxt==="for문옵션연습"&&((j>=2&&j<=4)||j===9)) continue;

                        // 4. 소수만 나타나게 하기

                        if(btxt==="for문옵션연습2"&&isPrime(j)) continue;


                        // 이미지 넣을 대상은? .forCls를 담은 변수tg
                        tg.innerHTML += `<img src="./images/num/num_0${j}.png" alt="숫자이미지">`;
                    } // for문 //
                };// 클릭 이벤트 함수
            } // for문 //
        }); // 로드 구역 //
    </script>
</head>

<body>
    <h1>for문 옵션</h1>

    <hr>

    <div>
        <h2>기본for문</h2>
        <button>기본호출</button>
        <br><br>
        <div class="forCls"></div>
    </div>
    
    <hr>

    <div>
        <h2>4번과 7번빼고 돌리기</h2>
        <button>for문옵션1</button>
        <br><br>
        <div class="forCls"></div>
    </div>

    <hr>

    <div>
        <h2>5번까지만 돌리기</h2>
        <button>for문옵션2</button>
        <br><br>
        <div class="forCls"></div>
    </div>

    <hr>

    <div>
        <h2>2~4,9빼고 돌리기</h2>
        <button>for문옵션연습</button>
        <br /><br />
        <div class="forCls"></div>
    </div>

    <hr>

    <div>
        <h2>소수 포현하기</h2>
        <button>for문옵션연습2</button>
        <br /><br />
        <div class="forCls"></div>
    </div>
</body>

</html>